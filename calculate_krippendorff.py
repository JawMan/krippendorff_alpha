# This is a sample Python script.

# Press ⌃R to execute it or replace it with your code.
# Press Double ⇧ to search everywhere for classes, files, tool windows, actions, and settings.
import krippendorff
import numpy as np

# hatefulness score of every annotator
#Dataset1
#annotator1 = [5, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 0, 5, 0, 5, 0, 5, 0, 3, 0, 0, 5, 3, 0, 0, 4, 3, 0, 4, 0, 0, 0, 0, 0, 5, 0, 3, 0, 3, 0, 4, 5, 0, 5, 4, 0, 0, 4, 0, 0, 0, 0, 3, 0, 4, 0, 0, 0, 0, 5, 0, 5, 4, 0, 0, 0, 4, 5, 0, 0, 4, 4, 0, 5, 5, 5, 0, 5, 0, 5, 0, 5, 5, 4, 5, 5, 0, 0, 2, 0, 5, 5, 4, 3, 5, 5, 0, 0, 5, 5, 5, 5, 0, 0, 0, 0, 0, 0, 5]
#annotator2 = [5, 0, 0, 0, np.nan, 0, 0, 0, 0, 5, 5, 0, 5, 0, 5, 0, 4, 0, 5, 0, 0, 5, 5, 0, 0, 5, 4, 0, 4, 0, 0, 0, 0, 0, 5, 0, 4, 0, 5, 0, 4, 4, 0, np.nan, 4, 0, 0, 4, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 5, np.nan, 5, 0, 0, np.nan, 0, np.nan, 5, 0, 0, 5, 0, 0, 5, 4, 0, 0, 4, 0, 5, 0, 4, 5, 4, 4, 0, 0, 0, 4, 0, 4, 4, 4, 4, 5, 4, 0, 0, 0, 3, 5, 5, 0, 0, 5, np.nan, 4, np.nan, 4]
#annotator3 = [5, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 0, 5, 0, 5, 0, 5, 0, 3, 0, 0, 5, 3, 0, 0, 4, 3, 0, 4, 0, 0, 0, 0, 0, 5, 0, 3, 0, 3, 0, 4, 5, 0, 5, 4, 0, 0, 4, 0, 0, 0, 0, 3, 0, 4, 0, 0, 0, 0, 5, 0, 5, 4, 0, 0, 0, 4, 5, 0, 0, 4, 4, 0, 5, 5, 5, 0, 5, 0, 5, 0, 4, 5, 4, 5, 0, 0, 0, 0, 4, 4, 4, 5, 4, 5, 5, 0, 0, 5, 4, 5, 5, 0, 0, 0, 0, 4, 3, 4]

#Dataset2
#annotator1 = [4, 0, 1, 5, 0, 0, np.nan, 4, np.nan, 2, 0, 5, 5, 0, 0, 0, 0, 5, 5, 5, 5, 5, 4, np.nan, 5, 0, 0, 0, 4, 5, 0, 0, 4, 5, 5, 5, 1, 0, 0, 0, 4, 1, 0, 0, 0, 0, 5, 0, 0, 5, 5, 0, 5, 4, 5, 5, 0, 0, 0, 0, 0, 4, 0, 0, 0, 5, 0, 0, 5, 5, 0, 0, 0, 5, 4, 0, 0, 5, 5, 0, 3, 4, 0, 5, 0, 5, 0, 0, 0, 4, 4, 4, 0, 0, 2, 5, 5, 0, 0, 5, 0, 5, 0, 5, 5, 0, 5, 5, 0]
#annotator2 = [3, 5, 0, 4, 1, 0, 0, 3, 0, 0, 0, 5, 5, 0, 1, 0, 5, 4, 4, 5, 4, 1, 0, 5, 4, 0, 0, 0, 3, 3, 0, 0, 4, 4, 5, 5, 2, 0, 0, 0, 3, 0, 0, 1, 0, 0, 1, 0, 0, 0, 3, 0, 3, 0, 4, 1, 0, 0, 0, 3, 0, 4, 0, 0, 0, 5, 4, 0, 3, 2, 0, 0, 0, 4, 1, 0, 0, 3, 4, 0, 4, 5, 0, 5, 0, 4, 0, 0, 0, 5, 4, 2, 0, 0, 5, 5, 4, 0, 0, 5, 0, 5, 0, 5, 5, 0, 0, 5, 0]
#annotator3 = [3, 4, 0, 5, 0, 4, 3, 5, 3, 3, 5, 5, 0, 4, 0, 4, 4, 5, 2, 5, 5, 5, 5, 5, 5, 0, 3, 0, 5, 5, 0, 0, 5, 5, 5, 5, 3, 0, 0, 4, 5, 5, 0, 5, 0, 3, 5, 5, 0, 4, 5, 0, 5, 0, 5, 5, 0, 0, 0, 3, 0, 5, 4, 4, 4, 5, 4, 4, 5, 5, 0, 0, 0, 5, 4, 0, 0, 5, 3, 0, 5, 5, 0, 5, 4, 5, 0, 0, 0, 5, 5, 4, 0, 0, 5, 5, 5, 5, 0, 5, 5, 5, 0, 5, 5, 3, 0, 5, 0]

#Dataset3
#annotator1 = [3, np.nan, 0, 2, 5, 0, 0, 1, 0, 4, 0, 3, 1, 0, 0, 0, 0, 0, 0, 4, np.nan, 0, 4, 0, 0, 4, 0, 0, 5, 1, 0, 0, 0, 0, 0, 0, 3, 5, 0, 5, 0, 4, 0, 0, 0, 5, 5, 0, 4, 0, 4, 0, 0, 0, 0, 0, 0, 4, 4, 0, 4, 0, 5, 0, 0, 5, 0, 5, 0, 0, 0, 4, 3, 0, 5, 5, 0, 0, 0, 0, 0, 0, 5, 0, 0, 3, 0, 0, 0, 4, 0, 5, 0, 5, 0, np.nan, 3, 0, 4, 2, 5, 0, 4, 5, 4, 0, 3, 3, 4]
#annotator2 = [4, 0, 0, 2, 5, 0, 0, 5, 0, 4, 0, 5, 3, 0, 3, 2, 0, 0, 0, 4, 0, 0, 5, 2, 3, 0, 2, 1, 3, 4, 0, 0, 0, 0, 4, 0, 4, 5, 5, 5, 0, 5, 0, 0, 0, 5, 5, 1, 0, 0, 4, 0, 4, 0, 0, 0, 3, 5, 4, 0, 4, 0, 5, 0, 0, 4, 0, 5, 0, 0, 0, 1, 2, 0, 3, 3, 0, 0, 1, 0, 2, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 4, 0, 5, 4, 5, 0, 2, 4, 4, 0, 0, 0, 4]
#annotator3 = [4, 0, 0, 0, 4, 2, 4, 5, 3, 4, 0, 5, 4, 4, 4, 4, 0, 0, 1, 5, 0, 0, 5, 0, 3, 4, 1, 0, 5, 4, 0, 0, 0, 0, 0, 0, 5, 5, 4, 5, 0, 4, 0, 0, 0, 5, 5, 0, 5, 0, 5, 0, 3, 0, 0, 0, 1, 5, 4, 0, 4, 0, 5, 0, 0, 4, 0, 5, 0, 0, 0, 1, 1, 0, 5, 5, 0, 0, 0, 0, 2, 0, 5, 0, 1, 4, 0, 1, 1, 0, 0, 5, 4, 0, 4, 0, 3, 0, 5, 4, 5, 0, 3, 5, 5, 0, 5, 4, 4]

# Dataset4
annotator1 = [0, 4, 2, 0, 2, 4, np.nan, 4, 3, 0, 5, 2, 0, 2, 5, 0, 4, 2, 5, 0, 2, 5, 5, 0, 0, 4, 0, 0, 4, 1, 3, 4, 0, 0, 3, 4, 0, 0, 3, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 5, 0, 5, 1, 0, 0, 0, 4, 0, 5, 4, 0, 3, 0, 0, 0, 0, 5, 4, 1, 4, 5, 0, 4, 5, 0, 0, 5, 0, 1, 0, 0, 4, 3, 0, 0, 0, 0, 0, 0, 0, 5, 0, 4, 0, 0, 5, 5, 0, 0, 0, 0, 0, 5, np.nan, 0, 5, 0, 5, 0, 5]
#print(len(annotator1))
annotator2 = [0, 2, 2, 0, 3, 4, 0, 0, 5, 0, 4, 1, 0, 3, 3, 0, 1, 0, 5, 0, 4, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 3, 4, 0, 0, 0, 0, 2, 0, 3, 0, 0, 0, 0, 3, 0, 4, 2, 0, 1, 0, 0, 0, 0, 3, 1, 0, 2, 2, 0, 3, 2, 0, 0, 5, 0, 0, 0, 0, 2, 1, 0, 0, 0, 0, 1, 0, 0, 5, 0, 3, 0, 0, 2, 3, 0, 0, 0, 0, 1, 3, 3, 2, 1, 0, 5, 0, 3]
#print(len(annotator2))
annotator3 = [5, 0, 4, 0, 0, 5, 0, 5, 5, 1, 5, 2, 1, 0, 4, 1, 5, 3, 5, 2, 0, 5, 1, 1, 1, 3, 3, 1, 4, 2, 2, 0, 3, 1, 3, 5, 2, 0, 2, 2, 0, 0, 3, 3, 5, 0, 3, 0, 0, 4, 0, 5, 2, 0, 0, 0, 5, 0, 5, 5, 1, 3, 0, 0, 0, 0, 5, 5, 5, 4, 5, 0, 2, 5, 0, 1, 5, 1, 0, 0, 0, 4, 4, 0, 1, 0, 0, 0, 0, 1, 5, 0, 5, 0, 0, 0, 5, 0, 0, 0, 0, 1, 4, 5, 4, 4, 0, 5, 0, 4]
#print(len(annotator3))
annotations_matrix = [annotator1, annotator2, annotator3]

#replace missing values with the average value of the non-missing annotations with average
for annotator_idx in range(len(annotations_matrix)):
    non_missing_values = [value for value in annotations_matrix[annotator_idx] if not np.isnan(value)]
    if len(non_missing_values) > 0:
        average_value = np.mean(non_missing_values)
        for i in range(len(annotations_matrix[annotator_idx])):
            if np.isnan(annotations_matrix[annotator_idx][i]):
                annotations_matrix[annotator_idx][i] = average_value

annotations_matrix = np.array(annotations_matrix)

alpha = krippendorff.alpha(annotations_matrix)

print(f"Krippendorff's alpha: {alpha}")

# See PyCharm help at https://www.jetbrains.com/help/pycharm/
